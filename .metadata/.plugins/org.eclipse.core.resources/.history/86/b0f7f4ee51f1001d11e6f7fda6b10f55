package application;

import entities.Player;
import javafx.animation.AnimationTimer;

public class GameLoop extends AnimationTimer{
	
	long lastFrame = 0;
	final int FPS = 60;
	final int UPS = 120;
	long timePerFram = 1000000000/FPS;
	long attackingFrame = 1000000000;
	Player player;
	
	public GameLoop(Player player){
		this.player = player;
	}
	
	@Override
	public void handle(long now) {
		// TODO Auto-generated method stub
		if(now-lastFrame>=timePerFram) {
			if(player.attacking == false) {
				player.reFresh();
				lastFrame = now;
			}else {
				long currentTime = now;
				if(now-lastFrame>=timePerFram) {
					player.reFresh();
					player.animationLock = true;
					lastFrame = now;
					if(now - currentTime>=1000000000) {
						player.animationLock = false;
						System.out.println("解開了喔");
					}
				}
			}
		}
	}

}
